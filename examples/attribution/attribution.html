<html>

<head>
    <title>Attribution Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/og.css" type="text/css" />
</head>

<body>
    <div id="globus" style="width:100%;height:100%"></div>
    <button id="btnOSM" style="position: absolute; left:0; margin:10px;">Set attribution</button>
    <script type="module">
        'use strict';

        import { Globe } from '../../src/og/Globe.js';
        import { GlobusTerrain } from '../../src/og/terrain/GlobusTerrain.js';
        import { XYZ } from '../../src/og/layer/XYZ.js';
        import { WMS } from '../../src/og/layer/WMS.js';
        import { labelXYZ} from '../../src/og/layer/labelXYZ.js';
        document.getElementById("btnOSM").onclick = function () {
            states.setAttribution("Hello, WMS default USA population states example!");
        };

        // let osm = new XYZ("OpenStreetMap", {
        //     specular: [0.0003, 0.00012, 0.00001],
        //     shininess: 20,
        //     diffuse: [0.89, 0.9, 0.83],
        //     isBaseLayer: true,
        //     url: "//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
        //     visibility: true,
        //     attribution: 'Data @ OpenStreetMap contributors, ODbL'
        // });

        // let states = new WMS("USA Population", {
        //     extent: [[-128, 24], [-66, 49]],
        //     visibility: true,
        //     isBaseLayer: false,
        //     url: "//openglobus.org:8080/geoserver/",
        //     layers: "topp:states",
        //     opacity: 1.0,
        //     attribution: 'Hi!',
        //     transparentColor: [1.0, 1.0, 1.0]
        // });

        // let globus = new Globe({
        //     "target": "globus",
        //     "name": "Earth",
        //     "terrain": new GlobusTerrain(),
        //     "layers": [osm, states]
        // });

        const labelLayer = new labelXYZ("labelLayer", {
            isBaseLayer: false,
            visibility: true,
            zIndex:3,
            url: "//t.ssl.ak.dynamic.tiles.virtualearth.net/comp/ch/{key}?mkt=en-us&it=Z%2CGF%2CL&shading=hill&og=1471&n=z&ur=JP&js=1&cstl=in&st=me|lv:0_pp|lv:1_cr|lv:1_ad|lv:1&nvlos=1&vpt=e,p&pll=1&ell=1",
            countryLayerData: "//assets.msn.com/weathermapdata/1/static/3d/label.0.1/country-{}.json",
            height: 16,
            size: 11.5,
            color: "white"
        });

        const globe = new Globe({
            name: "Earth",
            target: "globus",
            layers: [labelLayer],
            // maxAltitude: 15000000,
            // minAltitude: 4200000,
            // skybox: scene.SkyBox.createDefault(UrlConstants.resourceUrl),
            // controls: [
            //     this.zoomControl,
            //     new control.MouseNavigation({}),
            //     new control.TouchNavigation({}),
            //     new control.CompassButton({ compassSvg: getCompassSvg() })
            // ]
            // terrain: new terrain.EmptyTerrain({
            //     gridSizeByZoom: [32, 32, 32, 32, 16, 8, 8]
            // }),
            useNightTexture: false,
            useSpecularTexture: false
        });

        const altitude = this.calculateAltitude(zoom);
        this.globe.planet.camera.setLonLat(new LonLat(12.93, 23.67, 12000000));
        this.globe.planet.camera.update();
        // globus.planet.viewExtent(states.getExtent());
    </script>
</body>

</html>